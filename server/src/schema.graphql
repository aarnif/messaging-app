type Query {
  countDocuments: Int!
  me: User
  findUserById(id: ID!): User!
  allChatsByUser(searchByTitle: String): [UserChat]
  allContactsByUser(searchByName: String): [Contact]
  findChatById(id: ID!): Chat!
}

type User {
  id: ID!
  username: String!
  name: String
  avatar: String
}

type UserChat {
  id: ID!
  name: String
  avatar: String
  messages: [Message]
}

type Chat {
  id: ID!
  type: String!
  name: String
  description: String
  avatar: String
  members: [ChatMember]
  messages: [Message]
}

type ChatMember {
  id: ID!
  username: String!
  name: String
  avatar: String
  role: String
}

type Message {
  id: ID!
  sender: User
  content: String
  createdAt: String
}

type Contact {
  id: ID!
  isBlocked: Boolean!
  contactDetails: User
}

type Mutation {
  createUser(input: CreateUserInput!): User
  login(input: LoginInput!): Token
  addContact(id: ID!): Contact
  removeContact(id: ID!): Contact
}

input CreateUserInput {
  username: String!
  password: String!
  confirmPassword: String!
}

input LoginInput {
  username: String!
  password: String!
}

type Token {
  value: String!
}
